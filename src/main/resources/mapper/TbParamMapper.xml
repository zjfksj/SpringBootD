<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zj.mapper.TbParamMapper" >
  <resultMap id="BaseResultMap" type="com.zj.entity.TbParam" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 29 11:16:27 CST 2019.
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="Pid" property="pid" jdbcType="VARCHAR" />
    <result column="Param_type" property="paramType" jdbcType="VARCHAR" />
    <result column="Param_code" property="paramCode" jdbcType="VARCHAR" />
    <result column="Param_value" property="paramValue" jdbcType="VARCHAR" />
    <result column="Create_Time" property="createTime" jdbcType="TIMESTAMP" />
  </resultMap>
 
 <select id="selectParam" resultMap="BaseResultMap">
 	select * from 
 	 tb_param where id=#{0}
 </select>
   <select id="findUserByPage1" resultMap="BaseResultMap">
  		select * 
        from tb_param
       <if test='stauts == "0"'>
           where Param_type='自动放行'
        </if>
        <if test='stauts == "1"'>
           where Param_type='负面清单'
        </if>
        <if test="username != null and username !='' ">
           and id LIKE concat(concat('%',#{username}),'%') 
        </if>
        order by id desc
        limit #{0},#{1}
  </select>
   <select id="soucount1" resultType="int">
   		select count(id) 
        from tb_param
       <if test='stauts == "0"'>
           where Param_type='自动放行'
        </if>
        <if test='stauts == "1"'>
           where Param_type='负面清单'
        </if>
        <if test="username !=null and username !=''">
           and id LIKE concat(concat('%',#{username}),'%') 
        </if>
   </select>
   <update id="paramEdit">
   		update tb_param set id=#{0},Param_type=#{1},Param_code=#{2},Param_value=#{3} where id=#{4}
   </update>
   <delete id="delParam">
   		delete from tb_param where id=#{0}
   </delete>
   <delete id="pldelParam">
   		delete from tb_param where id in
   		<foreach collection="array" index="index" item="item"
			open="(" separator="," close=")">
			#{item}
		</foreach>
   </delete>
   <insert id="addParam">
   		INSERT INTO `naon2`.`tb_param` (`id`, `Param_type`, `Param_code`, `Param_value`, `Create_Time`) VALUES (#{0},#{1},#{2},#{3},#{4});
   </insert>
</mapper>